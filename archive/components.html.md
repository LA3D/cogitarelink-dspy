# Component Catalog


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

------------------------------------------------------------------------

<a
href="https://github.com/LA3D/cogitarelink-dspy/blob/main/cogitarelink_dspy/components.py#L109"
target="_blank" style="float:right; font-size:smaller">source</a>

### list_layers

>  list_layers (registry={'Utils': {'layer': 'Utility', 'tool':
>                   'EchoMessage', 'doc': 'Simply echoes the input message
>                   back.', 'calls': 'load_module_source(module_name:str,
>                   full_name:bool=False) -> str', 'module':
>                   'cogitarelink.utils'}, 'ContextProcessor': {'layer':
>                   'Context', 'tool': 'LoadContext', 'doc': 'Loads and
>                   processes JSON-LD contexts.', 'calls': 'compact(doc:dict,
>                   ctx:dict) -> dict', 'module': 'cogitarelink.core.context'},
>                   'VocabRegistry': {'layer': 'Ontology', 'tool':
>                   'FetchOntology', 'doc': 'Accesses the vocabulary registry.',
>                   'calls': 'resolve(uri:str) -> dict', 'module':
>                   'cogitarelink.vocab.registry'}, 'ValidateEntity': {'layer':
>                   'Rules', 'tool': 'ValidateEntity', 'doc': 'Validates an
>                   Entity against SHACL shapes.', 'calls':
>                   'validate_entity(target:str, shapes_graph:str) -> bool',
>                   'module': 'cogitarelink.verify.validator'}, 'GraphManager':
>                   {'layer': 'Instances', 'tool': 'GraphManager', 'doc':
>                   'Manages RDF graphs and triples.', 'calls': 'query(q:str) ->
>                   dict', 'module': 'cogitarelink.core.graph'}, 'Signer':
>                   {'layer': 'Verification', 'tool': 'VerifySignature', 'doc':
>                   'Verifies a digital signature on a named graph.', 'calls':
>                   'verify(graph_id:str, signature:str) -> bool', 'module':
>                   'cogitarelink.verify.signer'}, 'AddReflection': {'layer':
>                   'Utility', 'tool': 'AddReflection', 'doc': 'Persist a
>                   reflection into semantic memory', 'calls': 'add(text:str,
>                   tags:list=None)->str', 'module':
>                   'cogitarelink_dspy.memory'}, 'RecallReflection': {'layer':
>                   'Utility', 'tool': 'RecallReflection', 'doc': 'Retrieve
>                   recent reflection notes', 'calls': 'retrieve(limit:int,
>                   tag_filter:str=None)->list', 'module':
>                   'cogitarelink_dspy.memory'}, 'ReflectionPrompt': {'layer':
>                   'Utility', 'tool': 'ReflectionPrompt', 'doc': 'Format recent
>                   notes for prompt injection', 'calls':
>                   'as_prompt(limit:int)->str', 'module':
>                   'cogitarelink_dspy.memory'}})

\*Return all unique layers in the component registry.

Args: registry (dict, optional): The component registry to use. Defaults
to COMPONENTS.

Returns: list: Sorted list of layer names\*

------------------------------------------------------------------------

<a
href="https://github.com/LA3D/cogitarelink-dspy/blob/main/cogitarelink_dspy/components.py#L96"
target="_blank" style="float:right; font-size:smaller">source</a>

### get_tools_by_layer

>  get_tools_by_layer (layer, registry={'Utils': {'layer': 'Utility',
>                          'tool': 'EchoMessage', 'doc': 'Simply echoes the
>                          input message back.', 'calls':
>                          'load_module_source(module_name:str,
>                          full_name:bool=False) -> str', 'module':
>                          'cogitarelink.utils'}, 'ContextProcessor': {'layer':
>                          'Context', 'tool': 'LoadContext', 'doc': 'Loads and
>                          processes JSON-LD contexts.', 'calls':
>                          'compact(doc:dict, ctx:dict) -> dict', 'module':
>                          'cogitarelink.core.context'}, 'VocabRegistry':
>                          {'layer': 'Ontology', 'tool': 'FetchOntology', 'doc':
>                          'Accesses the vocabulary registry.', 'calls':
>                          'resolve(uri:str) -> dict', 'module':
>                          'cogitarelink.vocab.registry'}, 'ValidateEntity':
>                          {'layer': 'Rules', 'tool': 'ValidateEntity', 'doc':
>                          'Validates an Entity against SHACL shapes.', 'calls':
>                          'validate_entity(target:str, shapes_graph:str) ->
>                          bool', 'module': 'cogitarelink.verify.validator'},
>                          'GraphManager': {'layer': 'Instances', 'tool':
>                          'GraphManager', 'doc': 'Manages RDF graphs and
>                          triples.', 'calls': 'query(q:str) -> dict', 'module':
>                          'cogitarelink.core.graph'}, 'Signer': {'layer':
>                          'Verification', 'tool': 'VerifySignature', 'doc':
>                          'Verifies a digital signature on a named graph.',
>                          'calls': 'verify(graph_id:str, signature:str) ->
>                          bool', 'module': 'cogitarelink.verify.signer'},
>                          'AddReflection': {'layer': 'Utility', 'tool':
>                          'AddReflection', 'doc': 'Persist a reflection into
>                          semantic memory', 'calls': 'add(text:str,
>                          tags:list=None)->str', 'module':
>                          'cogitarelink_dspy.memory'}, 'RecallReflection':
>                          {'layer': 'Utility', 'tool': 'RecallReflection',
>                          'doc': 'Retrieve recent reflection notes', 'calls':
>                          'retrieve(limit:int, tag_filter:str=None)->list',
>                          'module': 'cogitarelink_dspy.memory'},
>                          'ReflectionPrompt': {'layer': 'Utility', 'tool':
>                          'ReflectionPrompt', 'doc': 'Format recent notes for
>                          prompt injection', 'calls':
>                          'as_prompt(limit:int)->str', 'module':
>                          'cogitarelink_dspy.memory'}})

\*Return all tool definitions for a specific layer.

Args: layer (str): The layer name to filter by registry (dict,
optional): The component registry to use. Defaults to COMPONENTS.

Returns: dict: Dictionary of component name to metadata for the
specified layer\*

``` python
# Test our component registry and helper functions
all_layers = list_layers()
print(f"Discovered layers: {all_layers}")
assert "Context" in all_layers
assert "Rules" in all_layers
assert "Instances" in all_layers

# Test getting tools by layer
utility_tools = get_tools_by_layer("Utility")
assert "Echo" in utility_tools
assert utility_tools["Echo"]["tool"] == "EchoMessage"

# Display a sample of documentation
for name, meta in list(COMPONENTS.items())[:2]:
    print(f"Tool: {meta['tool']} [Layer: {meta['layer']}]")
    print(f"Doc: {meta['doc']}")
    print(f"Calls: {meta['calls']}")
    print("-" * 40)
```

------------------------------------------------------------------------

<a
href="https://github.com/LA3D/cogitarelink-dspy/blob/main/cogitarelink_dspy/components.py#L121"
target="_blank" style="float:right; font-size:smaller">source</a>

### validate_component_registry

>  validate_component_registry (registry={'Utils': {'layer': 'Utility',
>                                   'tool': 'EchoMessage', 'doc': 'Simply echoes
>                                   the input message back.', 'calls':
>                                   'load_module_source(module_name:str,
>                                   full_name:bool=False) -> str', 'module':
>                                   'cogitarelink.utils'}, 'ContextProcessor':
>                                   {'layer': 'Context', 'tool': 'LoadContext',
>                                   'doc': 'Loads and processes JSON-LD
>                                   contexts.', 'calls': 'compact(doc:dict,
>                                   ctx:dict) -> dict', 'module':
>                                   'cogitarelink.core.context'},
>                                   'VocabRegistry': {'layer': 'Ontology',
>                                   'tool': 'FetchOntology', 'doc': 'Accesses
>                                   the vocabulary registry.', 'calls':
>                                   'resolve(uri:str) -> dict', 'module':
>                                   'cogitarelink.vocab.registry'},
>                                   'ValidateEntity': {'layer': 'Rules', 'tool':
>                                   'ValidateEntity', 'doc': 'Validates an
>                                   Entity against SHACL shapes.', 'calls':
>                                   'validate_entity(target:str,
>                                   shapes_graph:str) -> bool', 'module':
>                                   'cogitarelink.verify.validator'},
>                                   'GraphManager': {'layer': 'Instances',
>                                   'tool': 'GraphManager', 'doc': 'Manages RDF
>                                   graphs and triples.', 'calls': 'query(q:str)
>                                   -> dict', 'module':
>                                   'cogitarelink.core.graph'}, 'Signer':
>                                   {'layer': 'Verification', 'tool':
>                                   'VerifySignature', 'doc': 'Verifies a
>                                   digital signature on a named graph.',
>                                   'calls': 'verify(graph_id:str,
>                                   signature:str) -> bool', 'module':
>                                   'cogitarelink.verify.signer'},
>                                   'AddReflection': {'layer': 'Utility',
>                                   'tool': 'AddReflection', 'doc': 'Persist a
>                                   reflection into semantic memory', 'calls':
>                                   'add(text:str, tags:list=None)->str',
>                                   'module': 'cogitarelink_dspy.memory'},
>                                   'RecallReflection': {'layer': 'Utility',
>                                   'tool': 'RecallReflection', 'doc': 'Retrieve
>                                   recent reflection notes', 'calls':
>                                   'retrieve(limit:int,
>                                   tag_filter:str=None)->list', 'module':
>                                   'cogitarelink_dspy.memory'},
>                                   'ReflectionPrompt': {'layer': 'Utility',
>                                   'tool': 'ReflectionPrompt', 'doc': 'Format
>                                   recent notes for prompt injection', 'calls':
>                                   'as_prompt(limit:int)->str', 'module':
>                                   'cogitarelink_dspy.memory'}})

*Validate that all entries in the component registry have required
fields.*

``` python
# Test the validation function
errors = validate_component_registry()
assert len(errors) == 0, f"Found errors in component registry: {errors}"

# Test adding invalid components
invalid_registry = COMPONENTS.copy()
invalid_registry["BadComponent"] = {
    "layer": "Utility",
    "tool": "Invalid Tool Name",  # Contains spaces, invalid identifier
    "doc": "This is a bad component."
    # Missing calls and module
}

errors = validate_component_registry(invalid_registry)
print(f"Validation found {len(errors)} errors in the invalid registry:")
for error in errors:
    print(f"- {error}")
```
